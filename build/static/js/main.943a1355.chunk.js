(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),l=a.n(r),c=a(1),o=a(2),i=a(4),u=a(3),h=(a(6),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isDrafted:n.props.info.isdrafted},n}return Object(o.a)(a,[{key:"callAPI",value:function(){var e=this.state.isDrafted,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.props.info.playerid,team:this.props.team})};fetch("https://modern-fantasy.herokuapp.com/draft",t).then((function(e){return e.text()})).then((function(e){return console.log("Updated player with id "+e)})).catch((function(e){return console.log(e)})),this.setState({isDrafted:!e}),this.props.draft(this.props.info.playerid)}},{key:"render",value:function(){var e=this,t="Draft",a="";this.state.isDrafted&&(t="Undo",a="\u2713");var n="button "+t;return s.a.createElement("tr",{className:"playerRow"},s.a.createElement("td",null,this.props.info.playerid),s.a.createElement("td",null,this.props.info.playername),s.a.createElement("td",null,this.props.info.pos),s.a.createElement("td",null,this.props.info.team),s.a.createElement("td",null,this.props.info.school),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.callAPI()},className:n},t)),s.a.createElement("td",null,a))}}]),a}(s.a.Component)),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"Header"},s.a.createElement("h1",{className:"title"},"Modern Fantasy"),s.a.createElement("ul",{className:"headerList"},s.a.createElement("li",{className:"headerItem"},s.a.createElement("a",{className:"headerContent"},"Home")),s.a.createElement("li",{className:"headerItem"},s.a.createElement("a",{className:"headerContent"},"Leagues")),s.a.createElement("li",{className:"headerItem"},s.a.createElement("a",{className:"headerContent"},"Draft")),s.a.createElement("li",{className:"headerItem"},s.a.createElement("a",{className:"headerContent"},"About")),s.a.createElement("li",{className:"headerItem"},s.a.createElement("a",{className:"headerContent",onClick:this.props.onClick},"New Draft"))))}}]),a}(s.a.Component),p=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={apiResponse:[],onClock:2,up:!0,pick:1,teams:4,players:16,results:{}},n}return Object(o.a)(a,[{key:"callAPI",value:function(){var e=this;fetch("https://modern-fantasy.herokuapp.com/all").then((function(e){return e.json()})).then((function(t){return e.setState({apiResponse:t})}))}},{key:"componentDidMount",value:function(){this.callAPI()}},{key:"newDraft",value:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isDrafted:!1})};fetch("https://modern-fantasy.herokuapp.com/newDraft",e).then((function(e){return e.text()})).then((function(e){return console.log("New Draft! All players undrafted.")})).catch((function(e){return console.log(e)})),window.location.reload()}},{key:"draft",value:function(e){this.state.results[this.state.onClock]?this.state.results[this.state.onClock].push(e):this.state.results[this.state.onClock]=[],this.setState({pick:this.state.pick+1}),this.state.pick<=this.state.players*this.state.teams&&(this.state.pick%this.state.teams===0?this.setState({up:!this.state.up}):this.state.up?this.setState({onClock:this.state.onClock+1}):this.setState({onClock:this.state.onClock-1}))}},{key:"render",value:function(){var e=this,t=this.state.apiResponse.sort((function(e,t){return e.playerid-t.playerid}));return s.a.createElement("div",{className:"App"},s.a.createElement(m,{onClick:function(){return e.newDraft()}}),s.a.createElement("h1",null,"Pick",this.state.pick,",team",this.state.onClock," on clock"),s.a.createElement("table",{className:"table"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"ID"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Position"),s.a.createElement("th",null,"Team"),s.a.createElement("th",null,"College"),s.a.createElement("th",null,"Draft")),t.map((function(t,a){return s.a.createElement(h,{key:a,info:t,draft:e.draft.bind(e),team:e.state.onClock})})))))}}]),a}(s.a.Component);l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(p,null)),document.getElementById("root"))},6:function(e,t,a){},8:function(e,t,a){e.exports=a(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.943a1355.chunk.js.map